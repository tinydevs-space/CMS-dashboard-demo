import{R as L,u as de,j as r,B as P,A as be,C as K,I as R,T as S,a as A,b as z,c as fe,d as Ce,g as Y,e as q,r as h,f as J,h as he,i as re,k as w,s as F,l as x,m as Q,n as ye,o as j,p as N,q as Se,t as ke,v as je,M as $}from"./index-C21WraLg.js";import{S as $e,P as W,u as Ie,a as D}from"./use-products-CxS4icLv.js";import{T as we}from"./Toolbar-CgjYOxYS.js";import{S as E,G as ae}from"./Grid-BTvJI9cY.js";import{C as Re}from"./Card-B3IwpKjc.js";import{T as Pe,F as oe,I as ne}from"./TextField-C8MH7Ib8.js";import{S as ie}from"./Select-5ZXWKH9_.js";const se=e=>{let a;const t=new Set,o=(v,b)=>{const l=typeof v=="function"?v(a):v;if(!Object.is(l,a)){const g=a;a=b??(typeof l!="object"||l===null)?l:Object.assign({},a,l),t.forEach(u=>u(a,g))}},n=()=>a,s={setState:o,getState:n,getInitialState:()=>p,subscribe:v=>(t.add(v),()=>t.delete(v))},p=a=e(o,n,s);return s},Te=e=>e?se(e):se,Oe=e=>e;function Ee(e,a=Oe){const t=L.useSyncExternalStore(e.subscribe,L.useCallback(()=>a(e.getState()),[e,a]),L.useCallback(()=>a(e.getInitialState()),[e,a]));return L.useDebugValue(t),t}const le=e=>{const a=Te(e),t=o=>Ee(a,o);return Object.assign(t,a),t},Me=e=>e?le(e):le;function Ae(e,a){let t;try{t=e()}catch{return}return{getItem:n=>{var i;const d=p=>p===null?null:JSON.parse(p,void 0),s=(i=t.getItem(n))!=null?i:null;return s instanceof Promise?s.then(d):d(s)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const _=e=>a=>{try{const t=e(a);return t instanceof Promise?t:{then(o){return _(o)(t)},catch(o){return this}}}catch(t){return{then(o){return this},catch(o){return _(o)(t)}}}},ze=(e,a)=>(t,o,n)=>{let i={storage:Ae(()=>localStorage),partialize:m=>m,version:0,merge:(m,I)=>({...I,...m}),...a},d=!1;const s=new Set,p=new Set;let v=i.storage;if(!v)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...m)},o,n);const b=()=>{const m=i.partialize({...o()});return v.setItem(i.name,{state:m,version:i.version})},l=n.setState;n.setState=(m,I)=>(l(m,I),b());const g=e((...m)=>(t(...m),b()),o,n);n.getInitialState=()=>g;let u;const f=()=>{var m,I;if(!v)return;d=!1,s.forEach(C=>{var k;return C((k=o())!=null?k:g)});const O=((I=i.onRehydrateStorage)==null?void 0:I.call(i,(m=o())!=null?m:g))||void 0;return _(v.getItem.bind(v))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate){const k=i.migrate(C.state,C.version);return k instanceof Promise?k.then(M=>[!0,M]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var k;const[M,B]=C;if(u=i.merge(B,(k=o())!=null?k:g),t(u,!0),M)return b()}).then(()=>{O==null||O(u,void 0),u=o(),d=!0,p.forEach(C=>C(u))}).catch(C=>{O==null||O(void 0,C)})};return n.persist={setOptions:m=>{i={...i,...m},m.storage&&(v=m.storage)},clearStorage:()=>{v==null||v.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>d,onHydrate:m=>(s.add(m),()=>{s.delete(m)}),onFinishHydration:m=>(p.add(m),()=>{p.delete(m)})},i.skipHydration||f(),u||g},We=ze,pe=Me()(We((e,a)=>({items:[],addItem:(t,o=1,n,i)=>{e(d=>{const s=d.items.findIndex(p=>p.product.id===t.id&&p.selectedColor===n&&p.selectedSize===i);if(s>-1){const p=[...d.items];return p[s].quantity+=o,{items:p}}return{items:[...d.items,{product:t,quantity:o,selectedColor:n,selectedSize:i}]}})},removeItem:t=>{e(o=>({items:o.items.filter(n=>n.product.id!==t)}))},updateQuantity:(t,o)=>{if(o<=0){a().removeItem(t);return}e(n=>({items:n.items.map(i=>i.product.id===t?{...i,quantity:o}:i)}))},clearCart:()=>{e({items:[]})},getTotalItems:()=>a().items.reduce((t,o)=>t+o.quantity,0),getSubtotal:()=>a().items.reduce((t,o)=>{const n=o.product.salePrice||o.product.price;return t+n*o.quantity},0),getTotal:()=>{const t=a().getSubtotal(),o=t*.08;return t+o}}),{name:$e.CART}));function Le({children:e}){const a=de(),t=pe(i=>i.getTotalItems()),o=()=>{a("/cart")},n=()=>{a("/")};return r.jsxs(P,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(be,{position:"sticky",sx:{bgcolor:"background.paper",borderBottom:"1px solid",borderColor:"divider",boxShadow:"var(--rock-glow-purple)"},children:r.jsx(we,{children:r.jsxs(K,{maxWidth:"xl",sx:{display:"flex",alignItems:"center"},children:[r.jsxs(P,{onClick:n,sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer",flexGrow:1},children:[r.jsx(R,{icon:"mdi:guitar-electric",width:32,sx:{color:"primary.main"}}),r.jsx(S,{variant:"h5",sx:{fontWeight:700,background:"linear-gradient(135deg, #8b5cf6 0%, #10b981 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:1},children:"ROCK GEAR SHOP"})]}),r.jsxs(E,{direction:"row",spacing:2,sx:{display:{xs:"none",md:"flex"}},children:[r.jsx(A,{color:"inherit",onClick:()=>a("/"),sx:{fontWeight:600},children:"Shop"}),r.jsx(A,{color:"inherit",onClick:()=>a("/?category=guitars"),sx:{fontWeight:600},children:"Guitars"}),r.jsx(A,{color:"inherit",onClick:()=>a("/?category=basses"),sx:{fontWeight:600},children:"Basses"}),r.jsx(A,{color:"inherit",onClick:()=>a("/?category=apparel"),sx:{fontWeight:600},children:"Apparel"}),r.jsx(A,{color:"inherit",onClick:()=>a("/?category=accessories"),sx:{fontWeight:600},children:"Accessories"})]}),r.jsx(z,{onClick:o,sx:{ml:2,"&:hover":{color:"primary.main",transform:"scale(1.1)"},transition:"var(--rock-transition)"},children:r.jsx(fe,{badgeContent:t,color:"primary",children:r.jsx(R,{icon:"mdi:cart",width:28})})})]})})}),r.jsx(P,{component:"main",sx:{flexGrow:1,bgcolor:"background.default"},children:e}),r.jsx(P,{component:"footer",sx:{py:4,px:2,mt:"auto",bgcolor:"background.paper",borderTop:"1px solid",borderColor:"divider"},children:r.jsx(K,{maxWidth:"xl",children:r.jsxs(E,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"space-between",alignItems:"center",children:[r.jsxs(S,{variant:"body2",color:"text.secondary",children:["© ",new Date().getFullYear()," Rock Gear Shop. All rights reserved."]}),r.jsxs(E,{direction:"row",spacing:2,children:[r.jsx(z,{size:"small",sx:{"&:hover":{color:"primary.main",boxShadow:"var(--rock-glow-purple)"}},children:r.jsx(R,{icon:"mdi:facebook",width:24})}),r.jsx(z,{size:"small",sx:{"&:hover":{color:"primary.main",boxShadow:"var(--rock-glow-purple)"}},children:r.jsx(R,{icon:"mdi:instagram",width:24})}),r.jsx(z,{size:"small",sx:{"&:hover":{color:"primary.main",boxShadow:"var(--rock-glow-purple)"}},children:r.jsx(R,{icon:"mdi:youtube",width:24})})]})]})})})]})}const Ne=Ce(r.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function De(e){return q("MuiChip",e)}const c=Y("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Fe=e=>{const{classes:a,disabled:t,size:o,color:n,iconColor:i,onDelete:d,clickable:s,variant:p}=e,v={root:["root",p,t&&"disabled",`size${x(o)}`,`color${x(n)}`,s&&"clickable",s&&`clickableColor${x(n)}`,d&&"deletable",d&&`deletableColor${x(n)}`,`${p}${x(n)}`],label:["label",`label${x(o)}`],avatar:["avatar",`avatar${x(o)}`,`avatarColor${x(n)}`],icon:["icon",`icon${x(o)}`,`iconColor${x(i)}`],deleteIcon:["deleteIcon",`deleteIcon${x(o)}`,`deleteIconColor${x(n)}`,`deleteIcon${x(p)}Color${x(n)}`]};return Q(v,De,a)},Be=F("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e,{color:o,iconColor:n,clickable:i,onDelete:d,size:s,variant:p}=t;return[{[`& .${c.avatar}`]:a.avatar},{[`& .${c.avatar}`]:a[`avatar${x(s)}`]},{[`& .${c.avatar}`]:a[`avatarColor${x(o)}`]},{[`& .${c.icon}`]:a.icon},{[`& .${c.icon}`]:a[`icon${x(s)}`]},{[`& .${c.icon}`]:a[`iconColor${x(n)}`]},{[`& .${c.deleteIcon}`]:a.deleteIcon},{[`& .${c.deleteIcon}`]:a[`deleteIcon${x(s)}`]},{[`& .${c.deleteIcon}`]:a[`deleteIconColor${x(o)}`]},{[`& .${c.deleteIcon}`]:a[`deleteIcon${x(p)}Color${x(o)}`]},a.root,a[`size${x(s)}`],a[`color${x(o)}`],i&&a.clickable,i&&o!=="default"&&a[`clickableColor${x(o)})`],d&&a.deletable,d&&o!=="default"&&a[`deletableColor${x(o)}`],a[p],a[`${p}${x(o)}`]]}})(ye(({theme:e})=>{const a=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${c.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${c.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:a,fontSize:e.typography.pxToRem(12)},[`& .${c.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${c.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${c.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${c.icon}`]:{marginLeft:5,marginRight:-6},[`& .${c.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:j(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:j(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${c.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${c.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(N(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText,[`& .${c.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t].contrastTextChannel} / 0.7)`:j(e.palette[t].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${c.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:a}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${c.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${c.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:j(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(N(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${c.focusVisible}`]:{background:(e.vars||e).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:j(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${c.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:j(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(N(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${c.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${c.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${c.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${c.avatar}`]:{marginLeft:4},[`& .${c.avatarSmall}`]:{marginLeft:2},[`& .${c.icon}`]:{marginLeft:4},[`& .${c.iconSmall}`]:{marginLeft:2},[`& .${c.deleteIcon}`]:{marginRight:5},[`& .${c.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(N()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(e.vars||e).palette[t].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.7)`:j(e.palette[t].main,.7)}`,[`&.${c.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:j(e.palette[t].main,e.palette.action.hoverOpacity)},[`&.${c.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.focusOpacity})`:j(e.palette[t].main,e.palette.action.focusOpacity)},[`& .${c.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.7)`:j(e.palette[t].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t].main}}}}))]}})),Ue=F("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,a)=>{const{ownerState:t}=e,{size:o}=t;return[a.label,a[`label${x(o)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function ce(e){return e.key==="Backspace"||e.key==="Delete"}const V=h.forwardRef(function(a,t){const o=J({props:a,name:"MuiChip"}),{avatar:n,className:i,clickable:d,color:s="default",component:p,deleteIcon:v,disabled:b=!1,icon:l,label:g,onClick:u,onDelete:f,onKeyDown:m,onKeyUp:I,size:O="medium",variant:C="filled",tabIndex:k,skipFocusWhenDisabled:M=!1,...B}=o,ue=h.useRef(null),ge=he(ue,t),X=y=>{y.stopPropagation(),f&&f(y)},me=y=>{y.currentTarget===y.target&&ce(y)&&y.preventDefault(),m&&m(y)},xe=y=>{y.currentTarget===y.target&&f&&ce(y)&&f(y),I&&I(y)},U=d!==!1&&u?!0:d,G=U||f?re:p||"div",H={...o,component:G,disabled:b,size:O,color:s,iconColor:h.isValidElement(l)&&l.props.color||s,onDelete:!!f,clickable:U,variant:C},T=Fe(H),ve=G===re?{component:p||"div",focusVisibleClassName:T.focusVisible,...f&&{disableRipple:!0}}:{};let Z=null;f&&(Z=v&&h.isValidElement(v)?h.cloneElement(v,{className:w(v.props.className,T.deleteIcon),onClick:X}):r.jsx(Ne,{className:w(T.deleteIcon),onClick:X}));let ee=null;n&&h.isValidElement(n)&&(ee=h.cloneElement(n,{className:w(T.avatar,n.props.className)}));let te=null;return l&&h.isValidElement(l)&&(te=h.cloneElement(l,{className:w(T.icon,l.props.className)})),r.jsxs(Be,{as:G,className:w(T.root,i),disabled:U&&b?!0:void 0,onClick:u,onKeyDown:me,onKeyUp:xe,ref:ge,tabIndex:M&&b?-1:k,ownerState:H,...ve,...B,children:[ee||te,r.jsx(Ue,{className:w(T.label),ownerState:H,children:g}),Z]})});function Ge(e){return q("MuiCardMedia",e)}Y("MuiCardMedia",["root","media","img"]);const He=e=>{const{classes:a,isMediaComponent:t,isImageComponent:o}=e;return Q({root:["root",t&&"media",o&&"img"]},Ge,a)},Ve=F("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e,{isMediaComponent:o,isImageComponent:n}=t;return[a.root,o&&a.media,n&&a.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Ke=["video","audio","picture","iframe","img"],_e=["picture","img"],Ye=h.forwardRef(function(a,t){const o=J({props:a,name:"MuiCardMedia"}),{children:n,className:i,component:d="div",image:s,src:p,style:v,...b}=o,l=Ke.includes(d),g=!l&&s?{backgroundImage:`url("${s}")`,...v}:v,u={...o,component:d,isMediaComponent:l,isImageComponent:_e.includes(d)},f=He(u);return r.jsx(Ve,{className:w(f.root,i),as:d,role:!l&&s?"img":void 0,ref:t,style:g,ownerState:u,src:l?s||p:void 0,...b,children:n})});function qe(e){return q("MuiCardContent",e)}Y("MuiCardContent",["root"]);const Je=e=>{const{classes:a}=e;return Q({root:["root"]},qe,a)},Qe=F("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})({padding:16,"&:last-child":{paddingBottom:24}}),Xe=h.forwardRef(function(a,t){const o=J({props:a,name:"MuiCardContent"}),{className:n,component:i="div",...d}=o,s={...o,component:i},p=Je(s);return r.jsx(Qe,{as:i,className:w(p.root,n),ownerState:s,ref:t,...d})});function Ze({product:e}){const a=de(),t=pe(s=>s.addItem),o=()=>{a(`/product/${e.id}`)},n=s=>{s.stopPropagation(),t(e,1)},i=e.salePrice||e.price,d=e.salePrice!==void 0;return r.jsxs(Re,{onClick:o,className:"rock-glow-hover",sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",bgcolor:"background.paper",border:"1px solid",borderColor:"divider",position:"relative",overflow:"visible","&:hover":{"& .add-to-cart-btn":{opacity:1,transform:"translateY(0)"}}},children:[e.status.length>0&&r.jsxs(E,{direction:"row",spacing:.5,sx:{position:"absolute",top:12,left:12,zIndex:9},children:[e.status.includes(W.NEW)&&r.jsx(V,{label:"NEW",size:"small",sx:{bgcolor:"info.main",color:"info.contrastText",fontWeight:700,fontSize:"0.7rem"}}),e.status.includes(W.SALE)&&r.jsx(V,{label:"SALE",size:"small",sx:{bgcolor:"error.main",color:"error.contrastText",fontWeight:700,fontSize:"0.7rem"}}),e.status.includes(W.FEATURED)&&r.jsx(V,{label:"⭐ FEATURED",size:"small",sx:{bgcolor:"warning.main",color:"warning.contrastText",fontWeight:700,fontSize:"0.7rem"}})]}),r.jsx(Ye,{component:"img",height:"240",image:e.coverImage,alt:e.name,sx:{objectFit:"cover",bgcolor:"grey.100"}}),r.jsxs(Xe,{sx:{flexGrow:1,pb:1},children:[r.jsx(S,{variant:"subtitle2",color:"text.secondary",sx:{textTransform:"uppercase",fontSize:"0.75rem",mb:.5},children:e.category}),r.jsx(S,{variant:"h6",sx:{fontWeight:700,mb:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.name}),r.jsxs(E,{direction:"row",spacing:1,alignItems:"center",children:[r.jsxs(S,{variant:"h6",sx:{fontWeight:700,color:d?"error.main":"primary.main"},children:["$",i.toFixed(2)]}),d&&r.jsxs(S,{variant:"body2",sx:{textDecoration:"line-through",color:"text.disabled"},children:["$",e.price.toFixed(2)]})]}),r.jsx(S,{variant:"caption",sx:{mt:1,display:"block",color:e.stock>0?"success.main":"error.main"},children:e.stock>0?`${e.stock} in stock`:"Out of stock"})]}),r.jsx(P,{className:"add-to-cart-btn",sx:{position:"absolute",bottom:16,right:16,opacity:0,transform:"translateY(10px)",transition:"var(--rock-transition)"},children:r.jsx(z,{onClick:n,disabled:e.stock===0,sx:{bgcolor:"primary.main",color:"primary.contrastText",boxShadow:"var(--rock-glow-purple)","&:hover":{bgcolor:"primary.dark",boxShadow:"0 0 30px rgba(139, 92, 246, 0.8)"},"&:disabled":{bgcolor:"grey.300",color:"grey.500"}},children:r.jsx(R,{icon:"mdi:cart-plus",width:24})})})]})}function et(){const[e]=Se(),a=e.get("category"),{products:t,loading:o}=Ie(),[n,i]=h.useState(""),[d,s]=h.useState(a||"all"),[p,v]=h.useState("featured"),b=h.useMemo(()=>{let l=[...t];if(d!=="all"&&(l=l.filter(g=>g.category===d)),n){const g=n.toLowerCase();l=l.filter(u=>u.name.toLowerCase().includes(g)||u.description.toLowerCase().includes(g)||u.category.toLowerCase().includes(g))}switch(p){case"price-asc":l.sort((g,u)=>(g.salePrice||g.price)-(u.salePrice||u.price));break;case"price-desc":l.sort((g,u)=>(u.salePrice||u.price)-(g.salePrice||g.price));break;case"name":l.sort((g,u)=>g.name.localeCompare(u.name));break;case"newest":l.sort((g,u)=>u.createdAt.getTime()-g.createdAt.getTime());break;default:l.sort((g,u)=>{const f=g.status.includes(W.FEATURED)?1:0,m=u.status.includes(W.FEATURED)?1:0;return f!==m?m-f:u.createdAt.getTime()-g.createdAt.getTime()})}return l},[t,d,n,p]);return o?r.jsx(P,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:r.jsx(ke,{size:60})}):r.jsxs(K,{maxWidth:"xl",sx:{py:6},children:[r.jsxs(P,{sx:{mb:6,textAlign:"center"},children:[r.jsx(S,{variant:"h2",sx:{fontWeight:800,mb:2,background:"linear-gradient(135deg, #8b5cf6 0%, #10b981 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:2},children:"ROCK GEAR SHOP"}),r.jsx(S,{variant:"h6",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Premium guitars, basses, apparel, and accessories for musicians who live and breathe rock"})]}),r.jsxs(E,{direction:{xs:"column",md:"row"},spacing:2,sx:{mb:4},alignItems:"stretch",children:[r.jsx(Pe,{fullWidth:!0,placeholder:"Search products...",value:n,onChange:l=>i(l.target.value),InputProps:{startAdornment:r.jsx(je,{position:"start",children:r.jsx(R,{icon:"mdi:magnify",width:24})})},sx:{flex:2}}),r.jsxs(oe,{sx:{flex:1,minWidth:200},children:[r.jsx(ne,{children:"Category"}),r.jsxs(ie,{value:d,label:"Category",onChange:l=>s(l.target.value),children:[r.jsx($,{value:"all",children:"All Products"}),r.jsx($,{value:D.GUITARS,children:"Guitars"}),r.jsx($,{value:D.BASSES,children:"Basses"}),r.jsx($,{value:D.APPAREL,children:"Apparel"}),r.jsx($,{value:D.ACCESSORIES,children:"Accessories"})]})]}),r.jsxs(oe,{sx:{flex:1,minWidth:200},children:[r.jsx(ne,{children:"Sort By"}),r.jsxs(ie,{value:p,label:"Sort By",onChange:l=>v(l.target.value),children:[r.jsx($,{value:"featured",children:"Featured"}),r.jsx($,{value:"newest",children:"Newest"}),r.jsx($,{value:"price-asc",children:"Price: Low to High"}),r.jsx($,{value:"price-desc",children:"Price: High to Low"}),r.jsx($,{value:"name",children:"Name"})]})]})]}),r.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mb:3},children:[b.length," ",b.length===1?"product":"products"," found"]}),b.length>0?r.jsx(ae,{container:!0,spacing:3,children:b.map(l=>r.jsx(ae,{size:{xs:12,sm:6,md:4,lg:3},children:r.jsx(Ze,{product:l})},l.id))}):r.jsxs(P,{sx:{textAlign:"center",py:10},children:[r.jsx(R,{icon:"mdi:guitar-electric",width:80,sx:{color:"text.disabled",mb:2}}),r.jsx(S,{variant:"h6",color:"text.secondary",children:"No products found"}),r.jsx(S,{variant:"body2",color:"text.disabled",children:"Try adjusting your search or filters"})]})]})}function lt(){return r.jsxs(r.Fragment,{children:[r.jsx("title",{children:"Shop - Rock Gear Shop"}),r.jsx(Le,{children:r.jsx(et,{})})]})}export{lt as default};
